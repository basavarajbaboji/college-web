<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Contact Government Polytechnic College Hole Alur.">
    <title>Contact Us | Government Polytechnic College Hole Alur</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <header>
        <div class="container" style="position: relative;">
            <h1>Government Polytechnic College Hole Alur</h1>
            <button class="menu-toggle" aria-label="Toggle navigation">‚ò∞</button>
            <nav>
                <ul class="nav-links" id="navLinks">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="branches.html">Branches</a></li>
                    <li><a href="admissions.html">Admissions</a></li>
                    <li><a href="faculty.html">Faculty</a></li>
                    <li><a href="student_details.html">Student Details</a></li>
                    <li><a href="contact.html" aria-current="page">Contact Us</a></li>
                    <li><a href="admin.html">Admin</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="contact" class="section">
            <div class="container">
                <h2>üì¨ Contact Us</h2>
                <p style="text-align: center; color: var(--gray-600); max-width: 600px; margin: 0 auto 2rem;">
                    Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible.
                </p>

                <!-- NEW: Track Application Section -->
                <div class="tracking-card section"
                    style="margin-bottom: 3rem; background: linear-gradient(135deg, #eff6ff 0%, #ffffff 100%); border-left: 5px solid var(--primary-blue);">
                    <div style="text-align: center; margin-bottom: 1.5rem;">
                        <h3
                            style="color: var(--primary-blue); font-size: 1.5rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            üîç Track Your Application Status
                        </h3>
                        <p style="font-size: 0.9rem; color: var(--gray-600);">Enter your details to check your admission
                            progress.</p>
                    </div>

                    <form id="trackForm"
                        style="max-width: 800px; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; padding: 1.5rem; background: white; border-radius: 12px; box-shadow: var(--shadow-sm);">
                        <div style="margin-bottom: 0;">
                            <label for="track_app_no" style="font-weight: 600;">Application Number <span
                                    style="color: red;">*</span></label>
                            <input type="text" id="track_app_no" name="app_no" placeholder="e.g. GPC-HA-..." required
                                style="margin-bottom: 0;" />
                        </div>
                        <div style="margin-bottom: 0;">
                            <label for="track_name" style="font-weight: 600;">Applicant Name <span
                                    style="color: red;">*</span></label>
                            <input type="text" id="track_name" name="name" placeholder="As per application" required
                                style="margin-bottom: 0;" />
                        </div>
                        <div style="display: flex; align-items: flex-end;">
                            <button type="submit" style="width: 100%; height: 48px; margin-bottom: 0;">Check Status
                                ‚Üí</button>
                        </div>
                    </form>

                    <div id="trackResult" style="margin-top: 1.5rem; display: none;">
                        <!-- Results will be injected here -->
                    </div>
                </div>

                <div class="section-divider"
                    style="height: 1px; background: var(--gray-200); margin: 3rem 0; position: relative; text-align: center;">
                    <span
                        style="position: absolute; top: -12px; left: 50%; transform: translateX(-50%); background: white; padding: 0 1rem; color: var(--gray-400); font-size: 0.8rem; letter-spacing: 1px; text-transform: uppercase;">Or
                        Send Us a Message</span>
                </div>

                <form id="contactForm">
                    <div style="margin-bottom: 1rem;">
                        <label for="name">Your Name</label>
                        <input type="text" id="name" name="name" placeholder="Enter your full name" required />
                    </div>

                    <div style="margin-bottom: 1rem;">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" placeholder="Enter your email address" required />
                    </div>

                    <div style="margin-bottom: 1rem;">
                        <label for="message">Your Message</label>
                        <textarea id="message" name="message" rows="5" placeholder="Write your message here..."
                            required></textarea>
                    </div>

                    <button type="submit">Send Message ‚Üí</button>
                </form>

                <div id="formResponse" style="margin-top: 1rem; text-align: center;"></div>

                <!-- Social Media Links -->
                <div style="margin-top: 2rem; text-align: center;">
                    <h3 style="color: var(--gray-700); margin-bottom: 1rem;">Follow Us</h3>
                    <ul class="social-media-links">
                        <li><a href="https://www.instagram.com/gpcholealur" target="_blank" rel="noopener">üì∏
                                Instagram</a></li>
                        <li><a href="https://www.facebook.com/gpcholealur" target="_blank" rel="noopener">üë•
                                Facebook</a></li>
                        <li><a href="https://twitter.com/gpcholealur" target="_blank" rel="noopener">üê¶ Twitter</a></li>
                        <li><a href="https://www.linkedin.com/school/gpcholealur" target="_blank" rel="noopener">üíº
                                LinkedIn</a></li>
                    </ul>
                </div>

                <!-- Map and Hours Section -->
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 3rem;">
                    <!-- Google Maps Embed (Placeholder for location) -->
                    <div
                        style="border-radius: 12px; overflow: hidden; height: 300px; border: 1px solid var(--gray-200); box-shadow: var(--shadow-sm);">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15366.195616053!2d75.68!3d15.75!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTVCsDQ1JzAwLjAiTiA3NcKwNDAnNDguMCJF!5e0!3m2!1sen!2sin!4v1620000000000!5m2!1sen!2sin"
                            width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    </div>

                    <!-- Office Hours Card -->
                    <div
                        style="background: #f8fafc; padding: 1.5rem; border-radius: 12px; border-left: 5px solid var(--primary-blue);">
                        <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">‚è∞ Office Hours</h3>
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div
                                style="display: flex; justify-content: space-between; border-bottom: 1px solid var(--gray-200); padding-bottom: 0.5rem;">
                                <span style="font-weight: 600;">Mon - Fri:</span>
                                <span>10:00 AM - 5:30 PM</span>
                            </div>
                            <div
                                style="display: flex; justify-content: space-between; border-bottom: 1px solid var(--gray-200); padding-bottom: 0.5rem;">
                                <span style="font-weight: 600;">Saturday:</span>
                                <span>10:00 AM - 1:30 PM</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; color: #dc2626;">
                                <span style="font-weight: 600;">Sunday:</span>
                                <span>Closed (Holiday)</span>
                            </div>
                        </div>
                        <p style="margin-top: 1.5rem; font-size: 0.85rem; color: var(--gray-600); font-style: italic;">
                            *Note: Administrative office remains closed on 2nd and 4th Saturdays.
                        </p>
                    </div>
                </div>

                <!-- Contact Info Cards -->
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 2rem;">
                    <div class="info-card">
                        <h3>üìç Address</h3>
                        <p data-db-field="address">Government Polytechnic College<br />Hole Alur, Karnataka, India</p>
                    </div>
                    <div class="info-card">
                        <h3>üìû Phone</h3>
                        <p data-db-field="phone">+91-12345-67890</p>
                    </div>
                    <div class="info-card">
                        <h3>üìß Email</h3>
                        <p><a href="mailto:info@gpcholealur.edu.in" style="color: var(--primary-blue);"
                                data-db-field="email">info@gpcholealur.edu.in</a></p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>¬© 2024 Government Polytechnic College Hole Alur. All rights reserved.</p>
            <p>Gifted by BASAVARAJ BABOJI GANOJI</p>
        </div>
    </footer>

    <script src="script.js" defer></script>
    <script>
        // Track Application Submission
        document.getElementById('trackForm').addEventListener('submit', async function (e) {
            e.preventDefault();
            const resultDiv = document.getElementById('trackResult');
            const submitBtn = this.querySelector('button');
            const originalText = submitBtn.textContent;

            // Show loading
            submitBtn.textContent = 'Searching...';
            submitBtn.disabled = true;
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div style="text-align: center; padding: 1rem;">‚è≥ Querying database...</div>';

            try {
                const response = await fetch('/api/track_application', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        app_no: document.getElementById('track_app_no').value,
                        name: document.getElementById('track_name').value
                    })
                });

                const data = await response.json();

                if (response.ok) {
                    let statusColor = '#3b82f6'; // Blue for pending
                    let statusIcon = '‚è≥';

                    if (data.status === 'Verified') {
                        statusColor = '#059669'; // Green
                        statusIcon = '‚úÖ';
                    } else if (data.status === 'Rejected') {
                        statusColor = '#dc2626'; // Red
                        statusIcon = '‚ùå';
                    }

                    resultDiv.innerHTML = `
                        <div style="padding: 1.5rem; background: white; border-radius: 12px; border: 2px solid ${statusColor}; animation: slideDown 0.3s ease-out;">
                            <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1rem;">
                                <div>
                                    <h4 style="margin: 0; color: var(--gray-700);">Application for: <span style="color: var(--primary-blue);">${data.name}</span></h4>
                                    <p style="margin: 5px 0 0; font-size: 0.9rem; color: var(--gray-500);">Course: ${data.course}</p>
                                </div>
                                <div style="display: flex; align-items: center; gap: 0.75rem; background: ${statusColor}10; padding: 0.75rem 1.25rem; border-radius: 50px; border: 1px solid ${statusColor}30;">
                                    <span style="font-size: 1.2rem;">${statusIcon}</span>
                                    <span style="font-weight: 700; color: ${statusColor}; text-transform: uppercase; letter-spacing: 1px;">${data.status}</span>
                                </div>
                            </div>
                        </div>
                    `;
                } else {
                    resultDiv.innerHTML = `
                        <div style="padding: 1rem; background: #fff1f2; border-radius: 12px; border: 1px solid #fda4af; text-align: center; color: #be123c;">
                            ‚ö†Ô∏è ${data.error}
                        </div>
                    `;
                }
            } catch (error) {
                resultDiv.innerHTML = '<div style="color: red; text-align: center;">‚úó Server error. Please try again later.</div>';
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });
    </script>
</body>

</html>